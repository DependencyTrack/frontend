import VulnerabilityDetailsModal from './VulnerabilityDetailsModal.vue';
import { shouldShowModal } from '../../../../cypress/support/utils';

describe('VulnerabilityDetailsModal', () => {
  it('mounts successfully', () => {
    cy.setToken(['VULNERABILITY_MANAGEMENT']);

    const mockVulnerability = {
      vulnId: 'TEST-1',
      title: 'Test Vulnerability',
      description: 'This is a test vulnerability',
      source: 'INTERNAL',
      severity: 'HIGH',
      affectedComponents: [],
    };

    cy.mount(VulnerabilityDetailsModal, {
      attachTo: document.body,
      stubs: {
        transition: false,
      },
      propsData: {
        vulnProp: mockVulnerability,
      },
    });

    shouldShowModal('vulnerabilityDetailsModal');
  });
});
