import VulnerabilityList from './VulnerabilityList.vue';
import { genAxiosResponse } from '../../../../cypress/support/utils';

describe('VulnerabilityList', () => {
  it('mounts successfully', () => {
    cy.setToken(['VIEW_PORTFOLIO', 'VULNERABILITY_MANAGEMENT']);

    cy.mount(VulnerabilityList, {
      prototypeMocks: {
        $route: {
          query: {
            searchText: null,
          },
        },
        axios: {
          get: genAxiosResponse({ '/api/v1/metrics/portfolio/90/days': [] }),
        },
      },
    });

    cy.get('div').should('exist');
  });
});
